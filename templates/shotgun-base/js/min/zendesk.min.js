function getCategoryMap(){return{202726378:"Shotgun User Guide",202866127:"Shotgun Admin Guide",202981388:"Shotgun Troubleshooting",202726698:"Toolkit User Guide",202726398:"Toolkit Admin Guide",202726678:"Toolkit Developer Guide",202726668:"Toolkit Integrations",114093982514:"RV Overview",202726418:"RV User Guide",202726408:"Studio Tools",114093970474:"Shotgun Enterprise"}}function getCategoryId(){var a=getPageType(),b=getPageId();if("category"===a)return b;var c=void 0!==window.localStorage,d=0,e=0;if("section"===a&&(e=b),"article"===a){var f={};if(c&&null!==window.localStorage.getItem("articleIndex")&&(f=JSON.parse(window.localStorage.getItem("articleIndex")),f.hasOwnProperty(b.toString())))return f[b.toString()];var g="/api/v2/help_center/articles/"+b;$.ajax({url:g,async:!1,success:function(a){e=a.article.section_id}})}if(0!==e){var h={};if(c&&null!==window.localStorage.getItem("sectionIndex")&&(h=JSON.parse(window.localStorage.getItem("sectionIndex")),h.hasOwnProperty(e.toString())))return"article"===a&&(f[b.toString()]=h[e.toString()],window.localStorage.setItem("articleIndex",JSON.stringify(f))),h[e.toString()];var i="/api/v2/help_center/sections/"+e;$.ajax({url:i,async:!1,success:function(a){d=a.section.category_id}}),"article"===a&&(f[b.toString()]=d,window.localStorage.setItem("articleIndex",JSON.stringify(f))),h[e.toString()]=d,window.localStorage.setItem("sectionIndex",JSON.stringify(h))}return d}function createCategoryIndex(){var a="/api/v2/help_center/categories.json",b=[];return $.get(a).then(function(a){a.categories.forEach(function(a){b.push(a.id)}),window.sessionStorage.setItem("categoryIndex",JSON.stringify(b))}),b}function validateCategoryAccess(a){var b=void 0!==window.sessionStorage,c=[];return c=b!==!1&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?window.sessionStorage.getItem("categoryIndex"):createCategoryIndex(),c.indexOf(a)>=0}function getProductCategories(a){var b={},c=getProductMap();for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(c[d])?b[c[d]].push(d):b[c[d]]=[d]);var e=[],f=void 0!==window.sessionStorage,g=[];for(g=f&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?JSON.parse(window.sessionStorage.getItem("categoryIndex")):createCategoryIndex(),i=0;i<g.length;i++)b[a].indexOf(g[i].toString())>=0&&e.push(g[i].toString());return e!=[]?e:b[a]}function toggleCategoryTree(){$(".category-tree").on("click","h2 a, h3 a",function(){return $(this).parent().nextAll().toggle(),!1})}function getProductMap(){return{202726378:"Shotgun",202866127:"Shotgun",202981388:"Shotgun",202726698:"Toolkit",202726398:"Toolkit",202726678:"Toolkit",202726668:"Toolkit",114093982514:"RV",202726418:"RV",202726408:"Studio",114093970474:"Shotgun Enterprise"}}function getSelectedProduct(a){var b=getProductMap();return b.hasOwnProperty(a.toString())?b[a.toString()]:""}function getProductMenu(a){var b=void 0!==window.sessionStorage;b&&null!==window.sessionStorage.getItem("productMenu")&&$(".product-selector").append(JSON.parse(window.localStorage.getItem("productMenu")));var c=getProductMap(),d=getSelectedProduct(a);if(""===d)return d;var e="categories",f=["202726378","202726698","202726418"];validateCategoryAccess("202726408")&&f.push("202726408"),validateCategoryAccess("114093970474")&&f.push("114093970474"),menuHtml='<a class="dropdown-toggle product-selected-item">'+d+"</a>",menuHtml+='<span class="dropdown-menu dropdown-menu-end product-items" role="menu">';for(var g=0;g<f.length;g++)c.hasOwnProperty(f[g])&&(menuHtml+='<a href="https://support.shotgunsoftware.com/hc/en-us/'+e+"/"+f[g]+'" rel="nofollow" role="menuitem">'+c[f[g]]+"</a>");return menuHtml+="</span>",window.sessionStorage.setItem("productMenu",JSON.stringify(menuHtml)),menuHtml}function getProductCategories(a){var b={},c=getProductMap();for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(c[d])?b[c[d]].push(d):b[c[d]]=[d]);var e=[],f=void 0!==window.sessionStorage,g=[];for(g=f&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?JSON.parse(window.sessionStorage.getItem("categoryIndex")):createCategoryIndex(),i=0;i<g.length;i++)b[a].indexOf(g[i].toString())>=0&&e.push(g[i].toString());return e!=[]?e:b[a]}function getTree(a){var b=$.Deferred(),c=void 0!==window.localStorage,d="navbar-sections-"+a;c&&null!==window.localStorage.getItem(d)&&b.resolve(JSON.parse(window.localStorage.getItem(d)));var e="/api/v2/help_center/categories/"+a+"/sections.json";return $.get(e).then(function(a){var e=[];a.sections.forEach(function(a){e.push({id:a.id,html_url:a.html_url,name:a.name})});var f=[];e.forEach(function(a){var b=$.get("/api/v2/help_center/sections/"+a.id+"/articles.json").then(function(b){var c=[];b.articles.forEach(function(a){c.push({id:a.id,html_url:a.html_url,name:a.name})}),a.articles=c});f.push(b)}),$.when.apply($,f).done(function(){c&&null===window.localStorage.getItem(d)&&b.resolve(e),c&&window.localStorage.setItem(d,JSON.stringify(e))})}),b}function renderTree(a,b){var c="",d=$('<a class="user-guide-nav-title user-guide-nav-expand">'+getCategoryMap()[b]+"</a>"),e=$('<div class="article-listing"></div>');return e.append(a.map(function(a){if(specialSectionTypes().indexOf(a.name)>=0)return void(c+='<a class="user-guide-nav-title promoted-section" href="'+a.html_url+'">'+a.name+"</a>");var b=$('<div class="nav-section-title nav-title">'+a.name+"</div>"),d=$('<ul class="nav-children"></ul>');return d.append(a.articles.map(function(a){return $('<li><a class="nav-article" href="'+a.html_url+'">'+a.name+"</a></li>")})),$("<div></div>").append([b,d])})),d=d.add(e),d=d.add($(c)),$("<div></div>").append(d)}function collapseAllCategoryMenus(a){var b=$(".user-guide-nav-expand");b.each(function(){"-"===$(this).attr("data-toggle-icon")&&$(a).html().trim()!==$(this).html().trim()&&($(this).parent().find(".article-listing").each(function(){$(this).slideToggle()}),$(this).attr("data-toggle-icon","+"))})}function collapseAllSectionMenus(a){var b=$(".nav-section-title");b.each(function(){"-"===$(this).attr("data-toggle-icon")&&$(a).html().trim()!==$(this).html().trim()&&($(this).siblings().each(function(){$(this).slideToggle()}),$(this).attr("data-toggle-icon","+"))})}function initializeExpandCollapse(a){var b=$(".article-title");if(a.find(".article-listing").hide(),$(".user-guide-nav-expand").attr("data-toggle-icon","+"),a.find(".nav-children").hide(),$(".nav-header").attr("data-toggle-icon","-"),$(".nav-section-title").attr("data-toggle-icon","+"),1===b.length){var c=!1;b=b.html().trim(),specialSectionTypes().indexOf(b)>=0&&(c=!0),c===!1&&$(".nav-article").each(function(){$(this).html().trim()===b&&($(this).parents(".nav-children").show(),$(this).parents(".nav-children").siblings(".nav-section-title").attr("data-toggle-icon","-"),$(this).addClass("active-article"),$(this).closest(".article-listing").show(),$(this).closest(".article-listing").parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&$(".nav-section-title").each(function(){$(this).html().trim()===b&&($(this).parent().find(".nav-children").show(),$(this).attr("data-toggle-icon","-"),$(this).closest(".article-listing").show(),$(this).closest(".article-listing").parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&$(".user-guide-nav-title").each(function(){$(this).html().trim()===b&&($(this).parent().find(".article-listing").show(),$(this).parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&invalidateIndexes()}$(".user-guide-nav-expand").click(function(){collapseAllCategoryMenus(this),$(this).parent().find(".article-listing").each(function(){$(this).slideToggle()}),"-"===$(this).attr("data-toggle-icon")?$(this).attr("data-toggle-icon","+"):$(this).attr("data-toggle-icon","-")}),$(".article-listing .nav-header, .nav-section-title").click(function(){collapseAllSectionMenus(this),$(this).siblings().each(function(){$(this).slideToggle()}),"-"===$(this).attr("data-toggle-icon")?$(this).attr("data-toggle-icon","+"):$(this).attr("data-toggle-icon","-")})}function checkArticleType(a){var b=$("#article-type"),c=b.text();"Article"==c.trim()&&specialSectionTypes().indexOf(a.trim())>=0&&b.text(a.trim())}function specialSectionTypes(){return["Tutorials","FAQ","Videos","Release Notes"]}function disableArticleComments(){var a=$(".no-comments"),b=$(".article-comments");null!=a&&a.length>0&&null!=b&&b.length>0&&(b.css("display","none"),a.css("display","none"))}function loadSectionMenus(){var a=$(".user-guide-nav-contents");if(null!=a&&a.length>0){var b=getCategoryId(),c=getProductMenu(b);if(""===c)$(".article-nav").css("display","none"),$(".article-column").css("padding-left","0px");else{var d=void 0!==window.sessionStorage;d&&null===window.sessionStorage.getItem("categoryIndex")&&createCategoryIndex();var e=getProductCategories(getProductMap()[b]);$(".product-selector").append(c);for(var f=0;f<e.length;f++){var g=e[f];getTree(g).then(function(b){$(a).append(renderTree(b,g))})}$(".promoted-section").appendTo(a)}}}function triggerLeftNavInit(){var a=$(".user-guide-nav-contents");null!=a&&a.length>0&&initializeExpandCollapse(a)}function search(){window.location.search=$.param({query:$("#quick-search").val(),status:$("#request-status-select").val(),organization_id:$("#request-organization-select").val()})}function setSearchPlaceholder(){$(".st-default-search-input").attr("placeholder","Find anything (like tutorials, time logs, or task templates)")}function setRequestsPlaceholder(){"request-list"===getPageType()&&$(".requests-search").attr("placeholder","Search Requests...")}function enableSearchBar(){$("#request-status-select, #request-organization-select").on("change",function(){search()}),$("#quick-search").on("keypress",function(a){13===a.which&&search()}),$("#user-nav-search-icon").on("click",searchCallback),$(document).keyup(function(a){27===a.keyCode&&searchCallback()})}function quickFocus(a){a.focus()}function searchCallback(){var a=$("#user-nav-search-container");$(".header-inner").css("width");"none"===a.css("display")?($("#user-nav-search-icon i").css("color","#323131"),$("#user-nav-search-icon a").css("border-radius","5px 0px 0px 5px"),$(".docs-nav").css("display","none"),$(".search-table").css("width","100%"),a.css("display","table-cell"),$("#user-nav-search").animate({width:"100%"},250),quickFocus($("#user-nav-search-input"))):($("#user-nav-search-icon i").css("color","#ffffff"),$("#user-nav-search-icon a").css("border-radius","5px"),a.css("display","none"),$(".docs-nav").css("display","table-cell"),$(".search-table").css("width","0"),$("#user-nav-search").css("width","36px"))}function rndBackgroundImgBox(){var a="//p6.zdassets.com/hc/theme_assets/7538/1405/",b=["outside-desk-blur.jpg","outside-desk-blur-2.jpg"],c=Math.floor(Math.random()*b.length);return"url('"+a+b[c]+"')"}function setBackgroundImgBox(){var a=$(".background-img-box");null!=a&&a.length>0&&($(".article-title").css("display","none"),$(".breadcrumbs").css("display","none"),a.css("background-image",rndBackgroundImgBox()),a.prependTo($("main")))}function invalidateIndexes(){window.localStorage.setItem("articleIndex",JSON.stringify({})),window.localStorage.setItem("sectionIndex",JSON.stringify({})),window.sessionStorage.setItem("categoryIndex",JSON.stringify({}))}function enableSharing(){$(".share a").click(function(a){a.preventDefault(),window.open(this.href,"","height = 500, width = 500")}),$(".share-label").on("click",function(a){a.stopPropagation();var b="true"==this.getAttribute("aria-selected");this.setAttribute("aria-selected",!b),$(".share-label").not(this).attr("aria-selected","false")}),$(document).on("click",function(){$(".share-label").attr("aria-selected","false")})}function enableCommenting(){var a=$(".answer-body textarea"),b=$(".answer-form-controls"),c=$(".comment-container textarea"),d=$(".comment-form-controls");a.one("focus",function(){b.show()}),c.one("focus",function(){d.show()}),""!==c.val()&&d.show(),""!==a.val()&&b.show()}function setOrganizationRequest(){$("#request-organization select").on("change",function(){this.form.submit()})}function enableActionsMenu(){if("anonymous"==HelpCenter.user.role){$('<div id="user" class="user-info dropdown"><div class="btn dropdown-toggle actions-menu" role="button"><span id="user-name">Actions</span></div></div>').prependTo(".user-nav-table"),$('<div id="user-dropdown" class="dropdown-menu dropdown-menu-end dropdown-menu-caret" aria-expanded="false"><div id="user-menu"></div></div>').appendTo(".user-nav-table");var a=$(getNewRequestLink());a.appendTo("#user-menu"),a.attr("role","menuitem"),$(".login").appendTo("#user-menu"),$(".login").attr("role","menuitem"),$("#user-name").css("padding-right","5px"),$(".user-info").css("height","26px"),$(".user-info").css("padding","4px 4px 6px 6px"),$(".user-info").click(function(){var a=$("#user-dropdown");"true"===a.attr("aria-expanded")?a.attr("aria-expanded","false"):a.attr("aria-expanded","true")})}else{var b=$(getContributionsLink());b.prependTo("#user-menu"),b.attr("role","menuitem"),b.attr("id","my-contribution-settings"),b.text("My Contributions");var c=$(getFollowingLink());c.prependTo("#user-menu"),c.attr("role","menuitem"),c.attr("id","my-follow-settings"),c.text("My Follow Settings");var d=$(".my-activities");d.prependTo("#user-menu");var a=$(getNewRequestLink());a.prependTo("#user-menu"),a.attr("role","menuitem"),a.attr("id","submit-a-request")}$(".submit-a-request").text("Submit A Request"),$(".login").text("Sign In"),$(".my-activities").text("My Requests"),$(".post-subscribe").text("Follow Updates"),$(".article-subscribe").text("Follow Updates"),["request-list","request"].indexOf(getPageType())>=0&&(""===$(".activities-request-new-btn").text().trim()?$(".activities-request-new").hide():$(".activities-request-new-btn").text("Submit A New Request"),HelpCenter.user.organizations.length>0&&$('<li><a href="/hc/en-us/requests/organization">Organization Requests</a></li>').appendTo(".activities-request-groups"))}function formatToolkitTableOfContents(){$("h4:contains('Table of Contents:')").parent().children("p").css("margin","0")}