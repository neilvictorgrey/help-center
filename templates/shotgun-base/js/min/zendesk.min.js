function getCategoryMap(){return{202726378:"Shotgun User Guide",202866127:"Shotgun Admin Guide",202981388:"Shotgun Troubleshooting",202726698:"Toolkit User Guide",202726398:"Toolkit Admin Guide",202726678:"Toolkit Developer Guide",202726668:"Toolkit Integrations",114093982514:"RV Overview",202726418:"RV User Guide",202726408:"Studio Tools",114093970474:"Shotgun Enterprise"}}function getCategoryId(){var a=getPageType(),b=getPageId();if("category"===a)return b;var c=void 0!==window.localStorage,d=0,e=0;if("section"===a&&(e=b),"article"===a){var f={};if(c&&null!==window.localStorage.getItem("articleIndex")&&(f=JSON.parse(window.localStorage.getItem("articleIndex")),f.hasOwnProperty(b.toString())))return f[b.toString()];var g="/api/v2/help_center/articles/"+b;$.ajax({url:g,async:!1,success:function(a){e=a.article.section_id}})}if(0!==e){var h={};if(c&&null!==window.localStorage.getItem("sectionIndex")&&(h=JSON.parse(window.localStorage.getItem("sectionIndex")),h.hasOwnProperty(e.toString())))return"article"===a&&(f[b.toString()]=h[e.toString()],window.localStorage.setItem("articleIndex",JSON.stringify(f))),h[e.toString()];var i="/api/v2/help_center/sections/"+e;$.ajax({url:i,async:!1,success:function(a){d=a.section.category_id}}),"article"===a&&(f[b.toString()]=d,window.localStorage.setItem("articleIndex",JSON.stringify(f))),h[e.toString()]=d,window.localStorage.setItem("sectionIndex",JSON.stringify(h))}return d}function createCategoryIndex(){var a="/api/v2/help_center/categories.json",b=[];return $.get(a).then(function(a){a.categories.forEach(function(a){b.push(a.id)}),window.sessionStorage.setItem("categoryIndex",JSON.stringify(b))}),b}function validateCategoryAccess(a){var b=void 0!==window.sessionStorage,c=[];return c=b!==!1&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?window.sessionStorage.getItem("categoryIndex"):createCategoryIndex(),c.indexOf(a)>=0}function getProductCategories(a){var b={},c=getProductMap();for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(c[d])?b[c[d]].push(d):b[c[d]]=[d]);var e=[],f=void 0!==window.sessionStorage,g=[];for(g=f&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?JSON.parse(window.sessionStorage.getItem("categoryIndex")):createCategoryIndex(),i=0;i<g.length;i++)b[a].indexOf(g[i].toString())>=0&&e.push(g[i].toString());return e!=[]?e:b[a]}function getProductMap(){return{202726378:"Shotgun",202866127:"Shotgun",202981388:"Shotgun",202726698:"Toolkit",202726398:"Toolkit",202726678:"Toolkit",202726668:"Toolkit",114093982514:"RV",202726418:"RV",202726408:"Studio",114093970474:"Shotgun Enterprise"}}function getSelectedProduct(a){var b=getProductMap();return b.hasOwnProperty(a.toString())?b[a.toString()]:""}function getProductMenu(a){var b=void 0!==window.sessionStorage;b&&null!==window.sessionStorage.getItem("productMenu")&&$(".product-selector").append(JSON.parse(window.localStorage.getItem("productMenu")));var c=getProductMap(),d=getSelectedProduct(a);if(""===d)return d;var e="categories",f=["202726378","202726698","202726418"];validateCategoryAccess("202726408")&&f.push("202726408"),validateCategoryAccess("114093970474")&&f.push("114093970474"),menuHtml='<a class="dropdown-toggle product-selected-item">'+d+"</a>",menuHtml+='<span class="dropdown-menu dropdown-menu-end product-items" role="menu">';for(var g=0;g<f.length;g++)c.hasOwnProperty(f[g])&&(menuHtml+='<a href="https://support.shotgunsoftware.com/hc/en-us/'+e+"/"+f[g]+'" rel="nofollow" role="menuitem">'+c[f[g]]+"</a>");return menuHtml+="</span>",window.sessionStorage.setItem("productMenu",JSON.stringify(menuHtml)),menuHtml}function getProductCategories(a){var b={},c=getProductMap();for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(c[d])?b[c[d]].push(d):b[c[d]]=[d]);var e=[],f=void 0!==window.sessionStorage,g=[];for(g=f&&null!==window.sessionStorage.getItem("categoryIndex")&&"{}"!==window.sessionStorage.getItem("categoryIndex")?JSON.parse(window.sessionStorage.getItem("categoryIndex")):createCategoryIndex(),i=0;i<g.length;i++)b[a].indexOf(g[i].toString())>=0&&e.push(g[i].toString());return e!=[]?e:b[a]}function getTree(a){var b=$.Deferred(),c=void 0!==window.localStorage,d="navbar-sections-"+a;c&&null!==window.localStorage.getItem(d)&&b.resolve(JSON.parse(window.localStorage.getItem(d)));var e="/api/v2/help_center/categories/"+a+"/sections.json";return $.get(e).then(function(a){var e=[];a.sections.forEach(function(a){e.push({id:a.id,html_url:a.html_url,name:a.name})});var f=[];e.forEach(function(a){var b=$.get("/api/v2/help_center/sections/"+a.id+"/articles.json").then(function(b){var c=[];b.articles.forEach(function(a){c.push({id:a.id,html_url:a.html_url,name:a.name})}),a.articles=c});f.push(b)}),$.when.apply($,f).done(function(){c&&null===window.localStorage.getItem(d)&&b.resolve(e),c&&window.localStorage.setItem(d,JSON.stringify(e))})}),b}function renderTree(a,b){var c="",d=$('<a class="user-guide-nav-title user-guide-nav-expand">'+getCategoryMap()[b]+"</a>"),e=$('<div class="article-listing"></div>');return e.append(a.map(function(a){if(specialSectionTypes().indexOf(a.name)>=0)return void(c+='<a class="user-guide-nav-title promoted-section" href="'+a.html_url+'">'+a.name+"</a>");var b=$('<div class="nav-section-title nav-title">'+a.name+"</div>"),d=$('<ul class="nav-children"></ul>');return d.append(a.articles.map(function(a){return $('<li><a class="nav-article" href="'+a.html_url+'">'+a.name+"</a></li>")})),$("<div></div>").append([b,d])})),d=d.add(e),d=d.add($(c)),$("<div></div>").append(d)}function collapseAllCategoryMenus(a){var b=$(".user-guide-nav-expand");b.each(function(){"-"===$(this).attr("data-toggle-icon")&&$(a).html().trim()!==$(this).html().trim()&&($(this).parent().find(".article-listing").each(function(){$(this).slideToggle()}),$(this).attr("data-toggle-icon","+"))})}function collapseAllSectionMenus(a){var b=$(".nav-section-title");b.each(function(){"-"===$(this).attr("data-toggle-icon")&&$(a).html().trim()!==$(this).html().trim()&&($(this).siblings().each(function(){$(this).slideToggle()}),$(this).attr("data-toggle-icon","+"))})}function initializeExpandCollapse(a){var b=$(".article-title");if(a.find(".article-listing").hide(),$(".user-guide-nav-expand").attr("data-toggle-icon","+"),a.find(".nav-children").hide(),$(".nav-header").attr("data-toggle-icon","-"),$(".nav-section-title").attr("data-toggle-icon","+"),1===b.length){var c=!1;b=b.html().trim(),specialSectionTypes().indexOf(b)>=0&&(c=!0),c===!1&&$(".nav-article").each(function(){$(this).html().trim()===b&&($(this).parents(".nav-children").show(),$(this).parents(".nav-children").siblings(".nav-section-title").attr("data-toggle-icon","-"),$(this).addClass("active-article"),$(this).closest(".article-listing").show(),$(this).closest(".article-listing").parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&$(".nav-section-title").each(function(){$(this).html().trim()===b&&($(this).parent().find(".nav-children").show(),$(this).attr("data-toggle-icon","-"),$(this).closest(".article-listing").show(),$(this).closest(".article-listing").parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&$(".user-guide-nav-title").each(function(){$(this).html().trim()===b&&($(this).parent().find(".article-listing").show(),$(this).parent().find(".user-guide-nav-expand").attr("data-toggle-icon","-"),c=!0)}),c===!1&&invalidateIndexes()}$(".user-guide-nav-expand").click(function(){collapseAllCategoryMenus(this),$(this).parent().find(".article-listing").each(function(){$(this).slideToggle()}),"-"===$(this).attr("data-toggle-icon")?$(this).attr("data-toggle-icon","+"):$(this).attr("data-toggle-icon","-")}),$(".article-listing .nav-header, .nav-section-title").click(function(){collapseAllSectionMenus(this),$(this).siblings().each(function(){$(this).slideToggle()}),"-"===$(this).attr("data-toggle-icon")?$(this).attr("data-toggle-icon","+"):$(this).attr("data-toggle-icon","-")})}function checkArticleType(a){var b=$("#article-type"),c=b.text();"Article"==c.trim()&&specialSectionTypes().indexOf(a.trim())>=0&&b.text(a.trim())}function specialSectionTypes(){return["Tutorials","FAQ","Videos","Release Notes"]}function rndBackgroundImgBox(){var a="//p6.zdassets.com/hc/theme_assets/7538/1405/",b=["outside-desk-blur.jpg","outside-desk-blur-2.jpg"],c=Math.floor(Math.random()*b.length);return"url('"+a+b[c]+"')"}function invalidateIndexes(){window.localStorage.setItem("articleIndex",JSON.stringify({})),window.localStorage.setItem("sectionIndex",JSON.stringify({})),window.sessionStorage.setItem("categoryIndex",JSON.stringify({}))}